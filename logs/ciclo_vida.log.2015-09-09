[2015Sep09 10:35:54,705][INFO ][1441811154704][doPost SolicitudServlet.java:77][XML Recibido: <?xml version="1.0" encoding="UTF-8"?>
<RTBS_IN>
	<Login>String</Login>
	<Channel>CONTROM</Channel>
</RTBS_IN>]
[2015Sep09 10:35:54,707][DEBUG][1441811154704][processRequest FCController.java:74][<?xml version="1.0" encoding="UTF-8"?>
<RTBS_IN>
	<Login>String</Login>
	<Channel>CONTROM</Channel>
</RTBS_IN>]
[2015Sep09 10:35:54,720][DEBUG][1441811154704][execute CicloVidaPrepagoDelegator.java:136][Se obtuvo la conexion al DataSource. Accesando a la Base de Datos]
[2015Sep09 10:35:54,722][DEBUG][1441811154704][execute CicloVidaPrepagoDelegator.java:142][select = (SELECT '584128083439' AS SUBSCRIBER, COS_NAME, 'Fecha Unica de Pago ' || to_char( fecha_cobro-1,'dd' ) || ' de cada mes. Prox renov plan ' || REPLACE(DECODE((SUBSTR(COS_NAME,length(COS_NAME)-2,length(COS_NAME))), ' ZF', (SUBSTR(COS_NAME,0,(length(COS_NAME)-2))), COS_NAME),' ')  || ' ' || to_char( fecha_cobro-1,'dd-mm' ) || ' Bs.rentaBasica Mantenga saldo esa noche  y disfrutara bonos por Pago Puntual' as MENSAJE, rentabasica, to_char(fecha_cobro-1,'dd/mm/yyyy') AS next_apply_date, subscriber FROM ( SELECT sub_id subscriber, nvl(spc.next_apply_date,spc.start_date) fecha_cobro, cos_name, charge_balance1*(1+tax1) rentabasica      FROM STG.sub_periodic_chg_today spc      INNER JOIN stg.periodic_charges_adj_20150501 pc ON pc.per_charge_id = spc.per_charge_id and pc.cos_id = spc.cos_id      INNER JOIN STG.class_of_service cos ON spc.cos_id = cos.cos_id      WHERE 1=1 and nvl(spc.next_apply_date,spc.start_date) = (trunc(sysdate+4)) and nvl(spc.next_apply_date,start_date)< end_date      and spc.rc_offer_type = 1 and pc.versionid =(select current_versionid from STG.current_service_version)      and cos.versionid = pc.versionid  ) WHERE fecha_cobro >= '07-Jul-2015' AND ROWNUM<=10 ) UNION ALL (SELECT '584128083439' AS SUBSCRIBER, COS_NAME, 'Fecha Unica de Pago ' || to_char( fecha_cobro-1,'dd' ) || ' de cada mes. Prox renov plan ' || REPLACE(DECODE((SUBSTR(COS_NAME,length(COS_NAME)-2,length(COS_NAME))), ' ZF', (SUBSTR(COS_NAME,0,(length(COS_NAME)-2))), COS_NAME),' ')  || ' ' || to_char( fecha_cobro-1,'dd-mm' ) || ' Bs.rentaBasica Mantenga saldo esa noche  y disfrutara bonos por Pago Puntual' as MENSAJE, rentabasica, to_char(fecha_cobro-1,'dd/mm/yyyy') AS next_apply_date, subscriber FROM ( SELECT sub_id subscriber, nvl(spc.next_apply_date,spc.start_date) fecha_cobro, cos_name, charge_balance1*(1+tax1) rentabasica      FROM STG.sub_periodic_chg_today spc      INNER JOIN stg.periodic_charges pc ON pc.per_charge_id = spc.per_charge_id and pc.cos_id = spc.cos_id      INNER JOIN STG.class_of_service cos ON spc.cos_id = cos.cos_id      WHERE 1=1 and nvl(spc.next_apply_date,spc.start_date) = (trunc(sysdate+4)) and nvl(spc.next_apply_date,start_date)< end_date      and spc.rc_offer_type = 1 and pc.versionid =(select current_versionid from STG.current_service_version)      and cos.versionid = pc.versionid  ) WHERE fecha_cobro < '07-Jul-2015' AND ROWNUM<=10 ) UNION ALL (SELECT '584128083439' AS SUBSCRIBER, COS_NAME, 'Fecha Unica de Pago ' || to_char( fecha_cobro-1,'dd' ) || ' de cada mes. Prox renov plan ' || REPLACE(DECODE((SUBSTR(COS_NAME,length(COS_NAME)-2,length(COS_NAME))), ' ZF', (SUBSTR(COS_NAME,0,(length(COS_NAME)-2))), COS_NAME),' ')  || ' ' || to_char( fecha_cobro-1,'dd-mm' ) || ' Bs.rentaBasica Mantenga saldo esa noche  y disfrutara bonos por Pago Puntual' as MENSAJE, rentabasica, to_char(fecha_cobro-1,'dd/mm/yyyy') AS next_apply_date, subscriber FROM ( SELECT sub_id subscriber, nvl(spc.next_apply_date,spc.start_date) fecha_cobro, cos_name, charge_balance1*(1+tax1) rentabasica      FROM STG.sub_periodic_chg_today spc      INNER JOIN stg.periodic_charges_adj_20150501 pc ON pc.per_charge_id = spc.per_charge_id and pc.cos_id = spc.cos_id      INNER JOIN STG.class_of_service cos ON spc.cos_id = cos.cos_id      WHERE 1=1 and nvl(spc.next_apply_date,spc.start_date) = (trunc(sysdate+2)) and nvl(spc.next_apply_date,start_date)< end_date      and spc.rc_offer_type = 1 and pc.versionid =(select current_versionid from STG.current_service_version)      and cos.versionid = pc.versionid  ) WHERE fecha_cobro >= '07-Jul-2015' AND ROWNUM<=10 ) UNION ALL (SELECT '584128083439' AS SUBSCRIBER, COS_NAME, 'Fecha Unica de Pago ' || to_char( fecha_cobro-1,'dd' ) || ' de cada mes. Prox renov plan ' || REPLACE(DECODE((SUBSTR(COS_NAME,length(COS_NAME)-2,length(COS_NAME))), ' ZF', (SUBSTR(COS_NAME,0,(length(COS_NAME)-2))), COS_NAME),' ')  || ' ' || to_char( fecha_cobro-1,'dd-mm' ) || ' Bs.rentaBasica Mantenga saldo esa noche  y disfrutara bonos por Pago Puntual' as MENSAJE, rentabasica, to_char(fecha_cobro-1,'dd/mm/yyyy') AS next_apply_date, subscriber FROM ( SELECT sub_id subscriber, nvl(spc.next_apply_date,spc.start_date) fecha_cobro, cos_name, charge_balance1*(1+tax1) rentabasica      FROM STG.sub_periodic_chg_today spc      INNER JOIN stg.periodic_charges pc ON pc.per_charge_id = spc.per_charge_id and pc.cos_id = spc.cos_id      INNER JOIN STG.class_of_service cos ON spc.cos_id = cos.cos_id      WHERE 1=1 and nvl(spc.next_apply_date,spc.start_date) = (trunc(sysdate+2)) and nvl(spc.next_apply_date,start_date)< end_date      and spc.rc_offer_type = 1 and pc.versionid =(select current_versionid from STG.current_service_version)      and cos.versionid = pc.versionid  ) WHERE fecha_cobro < '07-Jul-2015' AND ROWNUM<=10 ) UNION all (SELECT SUBSCRIBER, alcs_name, 'Fecha Unica de Pago ' || to_char( fecha_cobro-1,'dd' ) || ' de cada mes.Prox renov serv ' || DECODE((SUBSTR(alcs_name,length(alcs_name)-2,length(alcs_name))), ' ZF', (SUBSTR(alcs_name,0,(length(alcs_name)-2))), alcs_name) || ' el ' || to_char( fecha_cobro-1,'dd-mm-yy' ) || ' por Bs.rentaBasica Mantenga saldo esa noche  y disfrute sus beneficios' as MENSAJE, rentaBasica, to_char(fecha_cobro-1,'dd/mm/yyyy') AS next_apply_date, subscriber FROM ( SELECT sub_id subscriber,  nvl(spc.next_apply_date,spc.start_date) fecha_cobro, alcs_name, charge_balance1*(1+tax1) rentabasica  FROM STG.sub_periodic_chg_today spc  INNER JOIN STG.periodic_charges_adj_20150501 pc ON pc.per_charge_id = spc.per_charge_id and pc.cos_id = spc.cos_id and  exists(  select distinct(pc3.per_charge_id)  from stg.periodic_charges_extra pc3  where pc3.alcs_id is not null and pc.per_charge_id = pc3.per_charge_id )  INNER JOIN STG.alcs_definition alc ON spc.alcs_id = alc.alcs_id WHERE 1=1 and nvl(spc.next_apply_date,spc.start_date)  in (trunc(sysdate+4)) and nvl(spc.next_apply_date,start_date)< end_date and spc.rc_offer_type != 1  and pc.versionid = (select current_versionid from STG.current_service_version) and alc.versionid =pc.versionid )  where fecha_cobro >= '07-Jul-2015' AND ROWNUM<=10 )  UNION all (SELECT SUBSCRIBER, alcs_name, 'Fecha Unica de Pago ' || to_char( fecha_cobro-1,'dd' ) || ' de cada mes.Prox renov serv ' || DECODE((SUBSTR(alcs_name,length(alcs_name)-2,length(alcs_name))), ' ZF', (SUBSTR(alcs_name,0,(length(alcs_name)-2))), alcs_name) || ' el ' || to_char( fecha_cobro-1,'dd-mm-yy' ) || ' por Bs.rentaBasica Mantenga saldo esa noche  y disfrute sus beneficios' as MENSAJE, rentaBasica, to_char(fecha_cobro-1,'dd/mm/yyyy') AS next_apply_date, subscriber FROM ( SELECT sub_id subscriber,  nvl(spc.next_apply_date,spc.start_date) fecha_cobro, alcs_name, charge_balance1*(1+tax1) rentabasica  FROM STG.sub_periodic_chg_today spc  INNER JOIN STG.periodic_charges pc ON pc.per_charge_id = spc.per_charge_id and pc.cos_id = spc.cos_id and  exists(  select distinct(pc3.per_charge_id)  from stg.periodic_charges_extra pc3  where pc3.alcs_id is not null and pc.per_charge_id = pc3.per_charge_id )  INNER JOIN STG.alcs_definition alc ON spc.alcs_id = alc.alcs_id WHERE 1=1 and nvl(spc.next_apply_date,spc.start_date)  in (trunc(sysdate+4)) and nvl(spc.next_apply_date,start_date)< end_date and spc.rc_offer_type != 1  and pc.versionid = (select current_versionid from STG.current_service_version) and alc.versionid =pc.versionid )  where fecha_cobro < '07-Jul-2015' AND ROWNUM<=10 )  UNION all (SELECT SUBSCRIBER, alcs_name, 'Fecha Unica de Pago ' || to_char( fecha_cobro-1,'dd' ) || ' de cada mes.Prox renov serv ' || DECODE((SUBSTR(alcs_name,length(alcs_name)-2,length(alcs_name))), ' ZF', (SUBSTR(alcs_name,0,(length(alcs_name)-2))), alcs_name) || ' el ' || to_char( fecha_cobro-1,'dd-mm-yy' ) || ' por Bs.rentaBasica Mantenga saldo esa noche  y disfrute sus beneficios' as MENSAJE, rentaBasica, to_char(fecha_cobro-1,'dd/mm/yyyy') AS next_apply_date, subscriber FROM ( SELECT sub_id subscriber,  nvl(spc.next_apply_date,spc.start_date) fecha_cobro, alcs_name, charge_balance1*(1+tax1) rentabasica  FROM STG.sub_periodic_chg_today spc  INNER JOIN STG.periodic_charges_adj_20150501 pc ON pc.per_charge_id = spc.per_charge_id and pc.cos_id = spc.cos_id and  exists(  select distinct(pc3.per_charge_id)  from stg.periodic_charges_extra pc3  where pc3.alcs_id is not null and pc.per_charge_id = pc3.per_charge_id )  INNER JOIN STG.alcs_definition alc ON spc.alcs_id = alc.alcs_id WHERE 1=1 and nvl(spc.next_apply_date,spc.start_date)  in (trunc(sysdate+2)) and nvl(spc.next_apply_date,start_date)< end_date and spc.rc_offer_type != 1  and pc.versionid = (select current_versionid from STG.current_service_version) and alc.versionid =pc.versionid )  where fecha_cobro >= '07-Jul-2015' AND ROWNUM<=10 )  UNION all (SELECT SUBSCRIBER, alcs_name, 'Fecha Unica de Pago ' || to_char( fecha_cobro-1,'dd' ) || ' de cada mes.Prox renov serv ' || DECODE((SUBSTR(alcs_name,length(alcs_name)-2,length(alcs_name))), ' ZF', (SUBSTR(alcs_name,0,(length(alcs_name)-2))), alcs_name) || ' el ' || to_char( fecha_cobro-1,'dd-mm-yy' ) || ' por Bs.rentaBasica Mantenga saldo esa noche  y disfrute sus beneficios' as MENSAJE, rentaBasica, to_char(fecha_cobro-1,'dd/mm/yyyy') AS next_apply_date, subscriber FROM ( SELECT sub_id subscriber, nvl(spc.next_apply_date,spc.start_date) fecha_cobro, alcs_name, charge_balance1*(1+tax1) rentabasica  FROM STG.sub_periodic_chg_today spc  INNER JOIN STG.periodic_charges pc ON pc.per_charge_id = spc.per_charge_id and pc.cos_id = spc.cos_id and  exists(  select distinct(pc3.per_charge_id)  from stg.periodic_charges_extra pc3  where pc3.alcs_id is not null and pc.per_charge_id = pc3.per_charge_id )  INNER JOIN STG.alcs_definition alc ON spc.alcs_id = alc.alcs_id WHERE 1=1 and nvl(spc.next_apply_date,spc.start_date)  in (trunc(sysdate+2)) and nvl(spc.next_apply_date,start_date)< end_date and spc.rc_offer_type != 1  and pc.versionid = (select current_versionid from STG.current_service_version) and alc.versionid =pc.versionid )  where fecha_cobro < '07-Jul-2015' AND ROWNUM<=10 )]
[2015Sep09 10:35:59,643][DEBUG][1441811154704][execute CicloVidaPrepagoDelegator.java:147][Consigui datos en la DB]
[2015Sep09 10:35:59,645][INFO ][1441811154704][execute CicloVidaPrepagoDelegator.java:216][Avertencia. No se encontro datos en la DB - RIBD]
[2015Sep09 10:35:59,647][DEBUG][1441811154704][assembly NameSustitutionCmdAdapter.java:201][Ensamblando lista de COMPONENTES para la construccion del COMANDO]
[2015Sep09 10:35:59,648][DEBUG][1441811154704][processRequest FCController.java:106][Response: <?xml version="1.0" encoding="UTF-8" ?>
<response>
	<codigo>0</codigo>
	<mensaje>Proceso completado satisfactoriamente</mensaje>
</response>]
[2015Sep09 10:35:59,649][INFO ][1441811154704][doPost SolicitudServlet.java:83][Response Recibido: <?xml version="1.0" encoding="UTF-8" ?>
<response>
	<codigo>0</codigo>
	<mensaje>Proceso completado satisfactoriamente</mensaje>
</response>]
